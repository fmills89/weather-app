{"mappings":"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","sources":["assets/app.js"],"sourcesContent":["var userFormEl = document.querySelector('#user-form');\nvar cityInputEl = document.querySelector('#city');\nvar cityContainerEl = document.querySelector('#city-container');\nvar searchHistoryEl = document.querySelector('#search-history');\nvar forecastContainerEl = document.querySelector('#forecast-container');\n\nvar APIkey = 'a72e3fb63a67ce75037508eeb42b61ef';\nvar cities = [];\n\nvar loadCities = () => {\n  var citiesLoaded = localStorage.getItem('cities');\n  if (!citiesLoaded) {\n    return false;\n  }\n\n  citiesLoaded = JSON.parse(citiesLoaded);\n  console.log(citiesLoaded);\n\n  for (var i = 0; i < citiesLoaded.length; i++) {\n    displaySearchedCities(citiesLoaded[i]);\n    cities.push(citiesLoaded[i]);\n  }\n};\n\nvar saveCities = () => {\n  localStorage.setItem('cities', JSON.stringify(cities));\n};\n\n// function working - addl styling to dynamically displayed elements done\n// revist event listener to show city details on click\nvar displaySearchedCities = city => {\n  var cityCardEl = document.createElement('div');\n  cityCardEl.setAttribute('class', 'button pl-2 ml-2');\n  var cityCardNameEl = document.createElement('div');\n  cityCardNameEl.setAttribute('class', 'card-body searched-city');\n  cityCardNameEl.textContent = city;\n\n  cityCardEl.appendChild(cityCardNameEl);\n\n  cityCardEl.addEventListener('click', function () {\n    getCityDetails(city);\n  });\n\n  searchHistoryEl.appendChild(cityCardEl);\n};\n\n// grabbing user input (city) function working\nvar formSubmitHandler = e => {\n  e.preventDefault();\n  // get value from input element\n  let cityName = cityInputEl.value.trim();\n\n  if (cityName) {\n    getCityDetails(cityName);\n\n    cityInputEl.value = '';\n  } else {\n    alert('Please enter a city name.');\n  }\n};\n\n// calling api and grabbing city detail based on user input\nvar getCityDetails = city => {\n  var apiURL =\n    'https://api.openweathermap.org/data/2.5/weather?q=' +\n    city +\n    '&units=imperial&appid=' +\n    APIkey;\n\n  fetch(apiURL).then(function (response) {\n    if (response.ok) {\n      response.json().then(function (data) {\n        // console.log(data);\n\n        // creating vars for getWeatherDetails function\n        var cityName = data.name;\n        var currentLat = data.coord.lat;\n        var currentLon = data.coord.lon;\n\n        var prevSearch = cities.includes(cityName);\n        if (!prevSearch) {\n          cities.push(cityName);\n          saveCities();\n          displaySearchedCities(cityName);\n        }\n\n        getWeatherDetails(cityName, currentLat, currentLon);\n      });\n    } else {\n      alert('Error, this city could not be found.');\n    }\n  });\n};\n\n// function/api call working\nvar getWeatherDetails = (city, currentLat, currentLon) => {\n  var oneCallUrl =\n    'https://api.openweathermap.org/data/2.5/onecall?lat=' +\n    currentLat +\n    '&lon=' +\n    currentLon +\n    '&units=imperial&exclude=minutely,hourly&appid=' +\n    APIkey;\n\n  fetch(oneCallUrl).then(response => {\n    response.json().then(data => {\n      console.log(data);\n\n      displayCityDetails(data, city);\n      displayForcasted(data);\n    });\n  });\n};\n\n//function/styling done\nvar displayCityDetails = (data, city) => {\n  var currentTemp = Math.round(data.current.temp);\n  var currentWind = Math.round(data.current.wind_speed);\n  var currentHumidity = data.current.humidity;\n  var currentUV = data.current.uvi;\n  var weatherIcon = data.current.weather[0].icon;\n\n  cityContainerEl.textContent = '';\n  var divCityHeader = document.createElement('div');\n  var headerCityDateEl = document.createElement('h2');\n  var currentDate = moment().format('L');\n  var currentIcon = document.createElement('img');\n  currentIcon.setAttribute(\n    'src',\n    'http://openweathermap.org/img/wn/' + weatherIcon + '@2x.png'\n  );\n\n  headerCityDateEl.textContent = city + ' (' + currentDate + ')';\n  headerCityDateEl.setAttribute('class', 'img');\n\n  divCityHeader.appendChild(headerCityDateEl);\n  divCityHeader.appendChild(currentIcon);\n  cityContainerEl.appendChild(divCityHeader);\n\n  var divCurrent = document.createElement('div');\n  divCurrent.setAttribute('class', 'p-2 m-2');\n  var tempEl = document.createElement('p');\n  tempEl.setAttribute('class', 'border rounded-md bg-white p-2 m-2');\n  var windEl = document.createElement('p');\n  windEl.setAttribute('class', 'border rounded-md bg-white p-2 m-2');\n  var humidityEl = document.createElement('p');\n  humidityEl.setAttribute('class', 'border rounded-md bg-white p-2 m-2');\n  var UvEl = document.createElement('p');\n  UvEl.setAttribute('class', 'border rounded-md bg-white p-2 m-2');\n\n  tempEl.textContent = 'Temperature: ' + currentTemp + 'Â°F';\n  windEl.textContent = 'Wind: ' + currentWind + ' MPH';\n  humidityEl.textContent = 'Humidity: ' + currentHumidity + '%';\n  UvEl.textContent = 'UV Index: ' + currentUV;\n\n  divCurrent.appendChild(tempEl);\n  divCurrent.appendChild(windEl);\n  divCurrent.appendChild(humidityEl);\n  divCurrent.appendChild(UvEl);\n\n  cityContainerEl.appendChild(divCurrent);\n};\n\nvar displayForcasted = data => {\n  forecastContainerEl.textContent = '';\n\n  for (var i = 0; i < 7; i++) {\n    var cityForecast = Math.round(data.daily[i].temp.day);\n\n    const type = cityForecast < 50 ? 'ðŸ¥¶' : '';\n\n    var windForecast = data.daily[i].wind_speed;\n    var humidityForecast = data.daily[i].humidity;\n    var forecastIcon = data.daily[i].weather[0].icon;\n    console.log(cityForecast);\n    console.log(forecastIcon);\n\n    var cardEl = document.createElement('div');\n    cardEl.setAttribute(\n      'class',\n      'bg-slate-700 bg-opacity-75 rounded-lg p-6 drop-shadow-xl border border-blue-300 h-full'\n    );\n\n    var cardBodyEl = document.createElement('div');\n    cardBodyEl.setAttribute('class', 'text-left p-4 m-4');\n\n    var cardDateEl = document.createElement('h6');\n    cardDateEl.setAttribute('class', 'p-2 m-2 text-lg font-bold');\n    cardDateEl.textContent = moment().add(i, 'days').format('L');\n\n    function setAttr(element, attributes) {\n      Object.keys(attributes).forEach(attr => {\n        element.setAttribute(attr, attributes[attr]);\n      });\n    }\n\n    const attributes = {\n      name: 'weather icon',\n      class: 'pb-4 m-6 bg-blue-500',\n      src: `https://openweathermap.org/img/wn/${forecastIcon}@2x.png`,\n    };\n\n    var cardIconEl = document.createElement('img');\n    setAttr(cardIconEl, attributes);\n\n    var cardTempEl = document.createElement('p');\n    cardTempEl.setAttribute(\n      'class',\n      'border rounded-md bg-white drop-shadow-2xl p-2 m-2'\n    );\n    cardTempEl.textContent = `Temperature:  ${cityForecast} Â°F ${type}`;\n\n    var cardWindEl = document.createElement('p');\n    cardWindEl.setAttribute(\n      'class',\n      'border rounded-md bg-white drop-shadow-2xl p-2 m-2'\n    );\n    cardWindEl.textContent = `Wind: ${windForecast}`;\n\n    var cardHumidEl = document.createElement('p');\n    cardHumidEl.setAttribute(\n      'class',\n      'border rounded-md bg-white drop-shadow-2xl p-2 m-2'\n    );\n    cardHumidEl.textContent = `Humidity: ${humidityForecast}%`;\n\n    cardBodyEl.appendChild(cardDateEl);\n    cardBodyEl.appendChild(cardIconEl);\n    cardBodyEl.appendChild(cardTempEl);\n    cardBodyEl.appendChild(cardWindEl);\n    cardBodyEl.appendChild(cardHumidEl);\n\n    cardEl.appendChild(cardBodyEl);\n    forecastContainerEl.appendChild(cardEl);\n\n    userFormEl.reset();\n  }\n};\n\nloadCities();\n\nuserFormEl.addEventListener('submit', formSubmitHandler);\n"],"names":[],"version":3,"file":"index.bb3194af.js.map","sourceRoot":"/__parcel_source_root/"}