{"mappings":"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","sources":["assets/app.js"],"sourcesContent":["var userFormEl = document.querySelector('#user-form');\nvar cityInputEl = document.querySelector('#city');\nvar cityContainerEl = document.querySelector('#city-container');\nvar searchHistoryEl = document.querySelector('#search-history');\nvar forecastContainerEl = document.querySelector('#forecast-container');\n\nvar APIkey = 'a72e3fb63a67ce75037508eeb42b61ef';\nvar cities = [];\n\nvar loadCities = () => {\n  var citiesLoaded = localStorage.getItem('cities');\n  if (!citiesLoaded) {\n    return false;\n  }\n\n  citiesLoaded = JSON.parse(citiesLoaded);\n  console.log(citiesLoaded);\n\n  for (var i = 0; i < citiesLoaded.length; i++) {\n    displaySearchedCities(citiesLoaded[i]);\n    cities.push(citiesLoaded[i]);\n  }\n};\n\nvar saveCities = () => {\n  localStorage.setItem('cities', JSON.stringify(cities));\n};\n\n// function working - addl styling to dynamically displayed elements done\n// revist event listener to show city details on click\nvar displaySearchedCities = city => {\n  var cityCardEl = document.createElement('div');\n  cityCardEl.setAttribute('class', 'button pl-2 ml-2');\n  var cityCardNameEl = document.createElement('div');\n  cityCardNameEl.setAttribute('class', 'card-body searched-city');\n  cityCardNameEl.textContent = city;\n\n  cityCardEl.appendChild(cityCardNameEl);\n\n  cityCardEl.addEventListener('click', function () {\n    getCityDetails(city);\n  });\n\n  searchHistoryEl.appendChild(cityCardEl);\n};\n\n// grabbing user input (city) function working\nvar formSubmitHandler = e => {\n  e.preventDefault();\n  // get value from input element\n  let cityName = cityInputEl.value.trim();\n\n  if (cityName) {\n    getCityDetails(cityName);\n\n    cityInputEl.value = '';\n  } else {\n    alert('Please enter a city name.');\n  }\n};\n\n// calling api and grabbing city detail based on user input\nvar getCityDetails = city => {\n  var apiURL =\n    'https://api.openweathermap.org/data/2.5/weather?q=' +\n    city +\n    '&units=imperial&appid=' +\n    APIkey;\n\n  fetch(apiURL).then(function (response) {\n    if (response.ok) {\n      response.json().then(function (data) {\n        // console.log(data);\n\n        // creating vars for getWeatherDetails function\n        var cityName = data.name;\n        var currentLat = data.coord.lat;\n        var currentLon = data.coord.lon;\n\n        var prevSearch = cities.includes(cityName);\n        if (!prevSearch) {\n          cities.push(cityName);\n          saveCities();\n          displaySearchedCities(cityName);\n        }\n\n        getWeatherDetails(cityName, currentLat, currentLon);\n      });\n    } else {\n      alert('Error, this city could not be found.');\n    }\n  });\n};\n\n// function/api call working\nvar getWeatherDetails = (city, currentLat, currentLon) => {\n  var oneCallUrl =\n    'https://api.openweathermap.org/data/2.5/onecall?lat=' +\n    currentLat +\n    '&lon=' +\n    currentLon +\n    '&units=imperial&exclude=minutely,hourly&appid=' +\n    APIkey;\n\n  fetch(oneCallUrl).then(response => {\n    response.json().then(data => {\n      console.log(data);\n\n      displayCityDetails(data, city);\n      displayForcasted(data);\n    });\n  });\n};\n\n//function/styling done\nvar displayCityDetails = (data, city) => {\n  var currentTemp = Math.round(data.current.temp);\n  var currentWind = Math.round(data.current.wind_speed);\n  var currentHumidity = data.current.humidity;\n  var currentUV = data.current.uvi;\n  var weatherIcon = data.current.weather[0].icon;\n\n  cityContainerEl.textContent = '';\n  var divCityHeader = document.createElement('div');\n  var headerCityDateEl = document.createElement('h2');\n  var currentDate = moment().format('L');\n  var currentIcon = document.createElement('img');\n  currentIcon.setAttribute(\n    'src',\n    'http://openweathermap.org/img/wn/' + weatherIcon + '@2x.png'\n  );\n\n  headerCityDateEl.textContent = city + ' (' + currentDate + ')';\n  headerCityDateEl.setAttribute('class', 'img');\n\n  divCityHeader.appendChild(headerCityDateEl);\n  divCityHeader.appendChild(currentIcon);\n  cityContainerEl.appendChild(divCityHeader);\n\n  var divCurrent = document.createElement('div');\n  divCurrent.setAttribute('class', 'p-2 m-2');\n  var tempEl = document.createElement('p');\n  tempEl.setAttribute('class', 'border rounded-md bg-white p-2 m-2');\n  var windEl = document.createElement('p');\n  windEl.setAttribute('class', 'border rounded-md bg-white p-2 m-2');\n  var humidityEl = document.createElement('p');\n  humidityEl.setAttribute('class', 'border rounded-md bg-white p-2 m-2');\n  var UvEl = document.createElement('p');\n  UvEl.setAttribute('class', 'border rounded-md bg-white p-2 m-2');\n\n  tempEl.textContent = 'Temperature: ' + currentTemp + 'Â°F';\n  windEl.textContent = 'Wind: ' + currentWind + ' MPH';\n  humidityEl.textContent = 'Humidity: ' + currentHumidity + '%';\n  UvEl.textContent = 'UV Index: ' + currentUV;\n\n  divCurrent.appendChild(tempEl);\n  divCurrent.appendChild(windEl);\n  divCurrent.appendChild(humidityEl);\n  divCurrent.appendChild(UvEl);\n\n  cityContainerEl.appendChild(divCurrent);\n};\n\nvar displayForcasted = data => {\n  forecastContainerEl.textContent = '';\n\n  for (var i = 0; i < 7; i++) {\n    var cityForecast = Math.round(data.daily[i].temp.day);\n\n    const type = cityForecast < 50 ? 'ðŸ¥¶' : '';\n\n    var windForecast = data.daily[i].wind_speed;\n    var humidityForecast = data.daily[i].humidity;\n    var forecastIcon = data.daily[i].weather[0].icon;\n    console.log(cityForecast);\n    console.log(forecastIcon);\n\n    var cardEl = document.createElement('div');\n    cardEl.setAttribute(\n      'class',\n      'bg-slate-700 bg-opacity-75 rounded-lg p-6 drop-shadow-xl border border-blue-300 h-full'\n    );\n\n    var cardBodyEl = document.createElement('div');\n    cardBodyEl.setAttribute('class', 'text-left p-4 m-4');\n\n    var cardDateEl = document.createElement('h6');\n    cardDateEl.setAttribute('class', 'p-2 m-2 text-lg font-bold');\n    cardDateEl.textContent = moment().add(i, 'days').format('L');\n\n    function setAttr(element, attributes) {\n      Object.keys(attributes).forEach(attr => {\n        element.setAttribute(attr, attributes[attr]);\n      });\n    }\n\n    const attributes = {\n      name: 'weather icon',\n      class: 'pb-4 m-6 bg-blue-500',\n      src: `https://openweathermap.org/img/wn/${forecastIcon}@2x.png`,\n    };\n\n    var cardIconEl = document.createElement('img');\n    setAttr(cardIconEl, attributes);\n\n    var cardTempEl = document.createElement('p');\n    cardTempEl.setAttribute(\n      'class',\n      'border rounded-md bg-white drop-shadow-2xl p-2 m-2'\n    );\n    cardTempEl.textContent = `Temperature:  ${cityForecast} Â°F ${type}`;\n\n    var cardWindEl = document.createElement('p');\n    cardWindEl.setAttribute(\n      'class',\n      'border rounded-md bg-white drop-shadow-2xl p-2 m-2'\n    );\n    cardWindEl.textContent = `Wind: ${windForecast}`;\n\n    var cardHumidEl = document.createElement('p');\n    cardHumidEl.setAttribute(\n      'class',\n      'border rounded-md bg-white drop-shadow-2xl p-2 m-2'\n    );\n    cardHumidEl.textContent = `Humidity: ${humidityForecast}%`;\n\n    cardBodyEl.appendChild(cardDateEl);\n    cardBodyEl.appendChild(cardIconEl);\n    cardBodyEl.appendChild(cardTempEl);\n    cardBodyEl.appendChild(cardWindEl);\n    cardBodyEl.appendChild(cardHumidEl);\n\n    cardEl.appendChild(cardBodyEl);\n    forecastContainerEl.appendChild(cardEl);\n\n    userFormEl.reset();\n  }\n};\n\nloadCities();\n\nuserFormEl.addEventListener('submit', formSubmitHandler);\n"],"names":["userFormEl","document","querySelector","cityInputEl","cityContainerEl","searchHistoryEl","forecastContainerEl","APIkey","cities","loadCities","citiesLoaded","localStorage","getItem","JSON","parse","console","log","i","length","displaySearchedCities","push","saveCities","setItem","stringify","city","cityCardEl","createElement","setAttribute","cityCardNameEl","textContent","appendChild","addEventListener","getCityDetails","formSubmitHandler","e","preventDefault","cityName","value","trim","alert","fetch","then","response","ok","json","data","name","currentLat","coord","lat","currentLon","lon","includes","getWeatherDetails","displayCityDetails","displayForcasted","currentTemp","Math","round","current","temp","currentWind","wind_speed","currentHumidity","humidity","currentUV","uvi","weatherIcon","weather","icon","divCityHeader","headerCityDateEl","currentDate","moment","format","currentIcon","divCurrent","tempEl","windEl","humidityEl","UvEl","cityForecast","daily","day","type","windForecast","humidityForecast","forecastIcon","cardEl","cardBodyEl","cardDateEl","setAttr","element","attributes","Object","keys","forEach","attr","add","class","src","cardIconEl","cardTempEl","cardWindEl","cardHumidEl","reset"],"version":3,"file":"index.abcc4b58.js.map"}